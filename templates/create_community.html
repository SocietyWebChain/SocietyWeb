<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Yeni Topluluk Oluştur</title>

  <link rel="icon" type="image/png" sizes="96x96" href="/static/photos/favicon-96x96.png" />
  <link rel="icon" type="image/svg+xml" href="/static/photos/favicon.svg" />
  <link rel="shortcut icon" href="/favicon.ico" />
  <link rel="apple-touch-icon" sizes="180x180" href="/static/photos/apple-touch-icon.png" />
  <link rel="manifest" href="/static/photos/site.webmanifest" />
</head>
<body>
<h2>Yeni Topluluk Oluştur</h2>

<form action="{{ url_for('create_community') }}" method="POST" enctype="multipart/form-data">
  <label>Başlık:</label><br>
  <input type="text" name="title" required><br>

  <label>Tür:</label><br>
  <input type="text" name="category"><br>

  <label>Kısa Açıklama:</label><br>
  <input type="text" name="tagline"><br>

  <label>Açıklama:</label><br>
  <textarea name="long_desc"></textarea><br>

  <label for="image">Topluluk Profil Fotoğrafı Yükle:</label>
  <input type="file" name="image" id="image" accept="image/*"><br>

  <h3>Link Ekle</h3>
  <div id="links-container"></div>
  <button type="button" id="add-link">Yeni Link Ekle</button>

  <h3>Etkinlikler</h3>
  <div id="events-container"></div>
  <button type="button" id="add-event">Yeni Etkinlik Ekle</button><br><br>

  <button type="submit">Kaydet</button>
</form>

<script>
// ---------- LINK EKLEME ----------
const linksContainer = document.getElementById("links-container");

document.getElementById("add-link").addEventListener("click", () => {
  const row = document.createElement("div");
  row.classList.add("link-row");
  row.innerHTML = `
    <input type="hidden" name="link_id[]" value="">
    <select name="platform[]" class="platform-select">
      <option value="Twitter">Twitter</option>
      <option value="Instagram">Instagram</option>
      <option value="Linkedin">Linkedin</option>
      <option value="Whatsapp">Whatsapp</option>
      <option value="Youtube">Youtube</option>
      <option value="Twitch">Twitch</option>
      <option value="Tiktok">Tiktok</option>
      <option value="Email">Email</option>
      <option value="Website">Website</option>
    </select>
    <input type="text" name="url[]" placeholder="Linkinizi girin">
    <button type="button" class="remove-link">X</button>
  `;
  linksContainer.appendChild(row);
  row.querySelector(".remove-link").addEventListener("click", () => row.remove());
});

// ---------- ETKİNLİK EKLEME ----------
const eventsContainer = document.getElementById("events-container");

document.getElementById("add-event").addEventListener("click", () => {
  const row = document.createElement("div");
  row.classList.add("event-row");
  row.innerHTML = `
    <input type="hidden" name="event_id[]" value="">
    <input type="date" name="event_start[]">
    <label>
      <input type="checkbox" class="toggle-time"> Saat ekle
    </label>
    <input type="time" name="event_time[]" disabled>
    <input type="date" name="event_end[]">
    <input type="text" name="event_desc[]" placeholder="Etkinlik açıklaması">
    <button type="button" class="remove-event">X</button>
  `;

  // toggle checkbox
  const toggle = row.querySelector(".toggle-time");
  const timeInput = row.querySelector('input[type="time"]');
  toggle.addEventListener("change", () => {
    timeInput.disabled = !toggle.checked;
    if (!toggle.checked) timeInput.value = "";
  });

  row.querySelector(".remove-event").addEventListener("click", () => row.remove());
  eventsContainer.appendChild(row);
});
</script>

</body>
</html>


<!--Onur buralara istediğin id yi verip css oluşturabilirsin !-->